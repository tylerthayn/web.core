define('ui.loader',['@js/core','jquery'],(e,t)=>{let s={auto:!1,root:'',selector:'view',scripts:!0,styles:!0},n=0;function r(e,i){return new Promise((l,o)=>{i=Extend({},s,i);let a=t(e).attr('src');t.get(a,s=>{let a={id:(++n).toString(),html:s,elements:[],scripts:[],styles:[]};if(t(s).each((e,s)=>{s instanceof Element&&(s instanceof HTMLScriptElement?a.scripts.push(s):s instanceof HTMLLinkElement?(!1!==i.styles&&!0===i.styles||!0===i.styles.links)&&(t(s).data('id',a.id),a.styles.push(s),t('head').append(s)):s instanceof HTMLStyleElement?(!1!==i.styles&&!0===i.styles||!0===i.styles.inline)&&(t(s).data('id',a.id),a.styles.push(s),t('head').append(s)):s instanceof HTMLScriptElement?a.scripts.push(s):a.elements.push(s))}),a.elements.length<1)return o(new Error('No elements available to load'));Promise.all(t(a.elements[0]).find(i.selector).toArray().map(e=>r(e,i))).then(()=>{t(a.elements[0]).data('asset',a),t(e).replaceWith(a.elements[0]),function(e,s){if(!1===s.scripts||e.scripts.length<1)return new Promise((e,t)=>{e()});return Promise.all(e.scripts.map(n=>new Promise((r,i)=>{if(!Reflect.has(n,'src')||''==n.src){if(!0===s.scripts||!0===s.scripts.inline){let s=new Function('$',t(n).text());return r(s.call(e.elements[0],t))}return r()}if(!0!==s.scripts&&!0!==s.scripts.external)return r();t(n).on('load',r),t(n).on('error',i)})))}(a,i).then(l).catch(o)}).catch(o)})})}Object.Extensions.UiLoader=function(e,n={}){if('object'!=typeof e)throw new Error('Non-object provided');return e._loaderOptions=Extend({},s,n),Define(e,'LoadUi',function(e={}){return e=Extend({},this._loaderOptions,e),Promise.all(t(e.selector).toArray().map(t=>r(t,e)))}),e._loaderOptions.auto&&t(()=>{e.LoadUi()}),e}});